<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="admin-dashboard.css">
    <title>Admin-Dashboard-user</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>

<body>
    <header>
        <nav>
            <div id="sidebarToggle">&#9776;</div>
            <div class="logo">Tele Mental</div>

            <ul>
                <li class="dropdown">
                    <img src="../tele mental imgs/admin.png" alt="">
                    <div class="dropdown-content">
                        <a href="#">Profile</a>
                        <a href="#">Change Password</a>
                    </div>
                </li>

            </ul>
        </nav>
    </header>
    <main>
        <section id="sidebar" class="sidebar">
            <div class="admin-sidebar">
                <ul>
                    <li><a href="admin-dashboard.html" class="Dashboard-link">Dashboard</a></li>

                    <li><a href="#users" class="users-link">Users</a></li>
                    <li><a href="#appointments" class="appointments-link">Appointments</a></li>
                    <li><a href="#Clients-history" class="Clients-history-link">Clients-history</a></li>
                    <li><a href="#reports" class="reports-link">Reports</a></li>
                    <li><a href="#settings" class="settings-link">Settings</a></li>
                    <!-- Logout button -->
                    <li><a href="#logout" class="logout-link">Logout</a></li>
                </ul>
            </div>
        </section>
        <section id="Dashboard-contents" class="Dashboard-contents">








            <div class="container my-5">
                <h2>LIST OF USERS</h2>
                <a class='btn btn-primary' href='/TELE-MENTAL/create.php' role='button'>new user</a><br>
                <table border='1' class="table">
                    <thead>
                        <tr>
                            <th>user_ID</th>
                            <th>Names</th>
                            <th>Email</th>
                            <th>User-type</th>
                            <th>Password</th>
                        </tr>
                    </thead>
                    <tbody>
                        <?php

// Database connection details
$host = "localhost";
$username = "root";
$password = "";
$database = "Tele-mental-db";

$connection=new mysqli($host,$username,$password,$database);
//to check our connection errors
if ($connection->connect_error){
    die("connection faled".$connection->connect_error);

}
 //if no connection error read all element of users table
 $sql="SELECT*FROM users";
 $result= $connection->query($sql);

if(!$result){
    die("invalid records".$connection->error);
}
//to read the data of each row
while($row = $result->fetch_assoc()){

    echo"
    <tr>
    <td >$row[user_ID]</td>
    <td>$row[Names]</td>
    <td>$row[Email]</td>
    <td>$row[User_type]</td>
    <td>$row[Password]</td>
    <td>
    <a class='btn btn-primary btn-sm' href='/TELE-MENTAL/edit.php? id=$row[user_ID]' role='button'>edit</a>
    <a class='btn btn-danger btn-sm' href='/TELE-MENTAL/delete.php? id=$row[user_ID]' role='button'>delete</a>
    </td>
</tr>
 ";
}

?>
                    </tbody>
                </table>
            </div>



        </section>
    </main>
    <footer>
        <!-- Footer content goes here -->
        <div class="container">
            <p>Contact us at: <a href="mailto:hafidele9@gmail.com">hafidele9@gmail.com</a> | Phone: +250789831961</p>
            <p>&copy; 2024 Tele Mental. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Toggle sidebar visibility
        document.getElementById('sidebarToggle').addEventListener('click', function () {
            document.getElementById('sidebar').classList.toggle('sidebar-hidden');
        });


        //for profile drop down
        document.querySelector('.dropdown').addEventListener('click', function () {
            var dropdownContent = this.querySelector('.dropdown-content');
            dropdownContent.style.display = (dropdownContent.style.display === 'block') ? 'none' : 'block';
        });
    </script>
</body>

</html>